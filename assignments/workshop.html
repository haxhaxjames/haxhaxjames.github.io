<h1>Assignment 04 Exercises</h1>

<h3>1-5. See Canvas. </h3>

<h3>6. Modify Basic JS Object</h3>

<div id="1A">Example answer here</div>
<div id="1B">Your answer here</div>

<h3>7. Create Basic DOM Object</h3>
<div id="2A">Example answer here</div>
<div id="2B">Your answer here</div>

<h3>8. Create "totals" row and column in table</h3>
<div id="3A">
  <table border="1" width="100%" id="table03A" class="table table-striped">
    <tbody>
      <tr> <th>Item</th><th>Price</th><th>Qty</th> </tr>
      <tr> <td>Thingamabob</td><td>1.00</td><td>1</td> </tr>
      <tr> <td>Whachamacallit</td><td>2.00</td><td>2</td> </tr>
      <tr> <td>Doohickey</td><td>3.00</td><td>3</td> </tr>
    </tbody>
  </table></div>

<div id="3B">Your answer here</div>

<h3>9. Refactor a non-object-oriented form</h3>
<div id="4A">Example answer here</div>


<h5>Not object-oriented HTML form</h5>
<!-- code below is from: https://www.guru99.com/practical-code-examples-using-javascript.html -->
<table id="table1">
	<tr>
		<td>First Name:</td>
		<td><input type="text" id="first" onkeyup="validate();" /></td>
		<td><div id="errFirst"></div></td>
	</tr>
	<tr>
		<td>Last Name:</td>
		<td><input type="text" id="last" onkeyup="validate();" /></td>
		<td><div id="errLast"></div></td>
	</tr>
	<tr>
		<td>Email:</td>
		<td><input type="text" id="email" onkeyup="validate();"/></td>
		<td><div id="errEmail"></div></td>
	</tr>
	<tr>
		<td>User Id:</td>
		<td><input type="text" id="uid" onkeyup="validate();"/></td>
		<td><div id="errUid"></div></td>
	</tr>
	<tr>
		<td>Password:</td>
		<td><input type="password" id="password" onkeyup="validate();"/></td>
		<td><div id="errPassword"></div></td>
	</tr>
	<tr>
		<td>Confirm Password:</td>
		<td><input type="password" id="confirm" onkeyup="validate();"/></td>
		<td><div id="errConfirm"></div></td>
	</tr>
	<tr>
		<td><input type="button" id="create" value="Validate" onclick="validate();finalValidate();"/></td>
		<td><div id="errFinal"></div></td>
	</tr>
</table>
<!-- not used
<div id="4B">Your answer here</div>
-->

<h3>10. Create a more object-oriented form</h3>
<div id="5A">Example answer here</div>


<h5>Object Oriented HTML form</h5>
<div id="form00"></div>

<div id="5B">Your answer here</div>

<script>
let person = { 
  firstName: "Jane", 
  lastName: "Doe", 
  age: 45, 
  fullName: function() {return this.firstName 
    + " " + this.lastName},
  streetAddress: "1234 medly",
  city: "Ashburrow",
  state: "MD",
  zipCode: 68754,
  fullAddress: function() {return this.streetAddress + ", " + this.city + " " + this.state + " " + this.zipCode}
} 
document.getElementById("1A").innerHTML = person.fullName();
document.getElementById("1B").innerHTML = person.fullAddress();
	

	
let div2b = document.getElementById("2B");
let table2b = createTable("table2b");
div2b.appendChild(table2b);
table2b.setAttribute("style", "border:1px solid black;");
table2b.setAttribute("class", "table table-striped");
table2b.setAttribute("width", "100%");
appendTableRow5(table2b,"1","2","3","4","5");
appendTableRow5(table2b,"6","7","8","9","10");
appendTableRow5(table2b,"11","12","13","14","15");
appendTableRow5(table2b,"16","17","18","19","20");
appendTableRow5(table2b,"21","22","23","24","25");	
	
	
let div3b = document.getElementById("3B");
let table3b = createTable("table3b");
div3b.appendChild(table3b);
table3b.setAttribute("style", "border:1px solid black;");
table3b.setAttribute("width", "100%");
appendTableRow5(table3b,"Item","Price","Quantity","","Price * Qty");
appendTableRow5(table3b,"Thing","5","6","",parseInt(table3b.children[1].children[1]) * parseInt(table3b.children[2].children[1]));
appendTableRow5(table3b,"Whathaveit","8","9","",parseInt(table3b.children[1].children[2]) * parseInt(table3b.children[2].children[2]));
appendTableRow5(table3b,"Doohickey","8","9","",parseInt(table3b.children[1].children[3]) * parseInt(table3b.children[2].children[3]));
appendTableRow5(table3b,"Totals",parseInt(table3b.children[1].children[1]) +parseInt(table3b.children[1].children[2])+parseInt(table3b.children[1].children[3]),
		parseInt(table3b.children[2].children[1]) +parseInt(table3b.children[2].children[2])+parseInt(table3b.children[2].children[3]),
		"",
		parseInt(table3b.children[4].children[1]) +parseInt(table3b.children[4].children[2])+parseInt(table3b.children[4].children[3]));
	
function appendTableRow5 (tableobj, col1, col2, col3, col4, col5) {
  
  let td1 = document.createElement("td");
  let td2 = document.createElement("td");
  let td3 = document.createElement("td");
  let td4 = document.createElement("td");
  let td5 = document.createElement("td");
  
  td1.innerHTML = col1;
  td2.innerHTML = col2;
  td3.innerHTML = col3;
  td4.innerHTML = col4;
  td5.innerHTML = col5;
  
  let tr = document.createElement("tr");
  
  tr.appendChild(td1);
  tr.appendChild(td2);
  tr.appendChild(td3);
  tr.appendChild(td4);
  tr.appendChild(td5);
  
  tableobj.children[0].appendChild(tr);
}

// return a DOM object containing an empty table (with tbody element)
function createTable(id) {
  let table = document.createElement("table");
  table.setAttribute("id", id);
  let tbody = document.createElement("tbody");
  table.appendChild(tbody);
  return table;
}
	
 var divs = new Array();
    divs[0] = "errFirst";
    divs[1] = "errLast";
    divs[2] = "errEmail";
    divs[3] = "errUid";
    divs[4] = "errPassword";
    divs[5] = "errConfirm";
   
function validate()
	{
      var inputs = new Array();
      inputs[0] = document.getElementById('first').value;
      inputs[1] = document.getElementById('last').value;
      inputs[2] = document.getElementById('email').value;
      inputs[3] = document.getElementById('uid').value;
      inputs[4] = document.getElementById('password').value;
      inputs[5] = document.getElementById('confirm').value;
      var errors = new Array();
      errors[0] = "<span style='color:red'>Please enter your first name!</span>";
      errors[1] = "<span style='color:red'>Please enter your last name!</span>";
      errors[2] = "<span style='color:red'>Please enter your email!</span>";
      errors[3] = "<span style='color:red'>Please enter your user id!</span>";
      errors[4] = "<span style='color:red'>Please enter your password!</span>";
      errors[5] = "<span style='color:red'>Please confirm your password!</span>";
      for (i in inputs)
      {
        var errMessage = errors[i];
        var div = divs[i];
        if (inputs[i] == "")
		;
        	//document.getElementById(div).innerHTML = errMessage;
        else if (i==2)
        {
          var atpos=inputs[i].indexOf("@");
          var dotpos=inputs[i].lastIndexOf(".");
          if (atpos<1 || dotpos<atpos+2 || dotpos+2>=inputs[i].length)
        	document.getElementById('errEmail').innerHTML = "<span style='color: red'>Enter a valid email address!</span>";
          else
        	document.getElementById(div).innerHTML = "OK!";
        }
        else if (i==5)
        {
          var first = document.getElementById('password').value;
          var second = document.getElementById('confirm').value;
          if (second != first)
        	document.getElementById('errConfirm').innerHTML = "<span style='color: red'>Your passwords don't match!</span>";
          else
       		document.getElementById(div).innerHTML = "OK!";
        }
        else
        	document.getElementById(div).innerHTML = "OK!";
       }
     }
        function finalValidate()
        {
          var count = 0;
          for(i=0;i<6;i++)
          {
            var div = divs[i];
            if(document.getElementById(div).innerHTML == "OK!")
            count = count + 1;
          }
          if(count == 6)
          	document.getElementById("errFinal").innerHTML = "All the data you entered is correct!!!";
        }
</script>
